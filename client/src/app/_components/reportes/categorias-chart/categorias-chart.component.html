<div class="relative h-80">
  <div *ngIf="isLoading" class="absolute inset-0 flex items-center justify-center bg-white bg-opacity-80 z-10">
    <div class="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-amber-500"></div>
  </div>

  <div *ngIf="!isLoading && (!categorias || categorias.length === 0)" class="absolute inset-0 flex items-center justify-center">
    <p class="text-gray-500">No hay datos de categorías disponibles para el período seleccionado</p>
  </div>

  <canvas *ngIf="categorias && categorias.length > 0"
    baseChart
    [type]="pieChartType"
    [data]="pieChartData"
    [options]="pieChartOptions">
  </canvas>
</div>
